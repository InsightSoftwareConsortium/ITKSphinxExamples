Global Registration of Two Images (BSpline)
===========================================

.. index::
   single: BSplineDeformableTransform
   single: ImageRegistrationMethod

Synopsis
--------

A global registration of two images.


Results
-------
Output::

  Intial Parameters =
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

  Starting Registration
  *************************************************
  N=50   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 5410.08   GNORM= 98.7811
  *************************************************
  I   NFN    FUNC        GNORM       STEPLENGTH
  1    2      5173.917      47.318       0.010
  2    8      1312.526      35.022      67.448
  3   10      1241.036      21.952       0.095
  4   11      1214.603      20.777       0.500
  5   12      1169.045      47.965       0.500
  6   13      1066.160      73.507       0.500
  7   14       750.612      84.979       0.500
  8   16       427.232      44.597       0.235
  9   17       371.768      44.133       0.500
  10   19       320.897      30.003       0.054
  11   20       319.018      23.934       0.500
  12   21       276.782      16.253       0.500
  13   22       190.496      16.864       0.500
  14   23       121.434      17.719       0.500
  15   24        80.920      23.984       0.500
  16   25        50.736      11.243       0.500
  17   26        40.862       5.633       0.500
  THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
  Optimizer stop condition = LBFGSOptimizer: Failure
  Last Transform Parameters
  [0.000004242652759130258, -0.09801257315348906, -0.3773136074775823, 0.04057356343246512, 0.011460974084144235, 0.046750769129838214, 5.442980649652609, -1.3233672220673571, 10.138325385009857, 1.2593858799352904, 0.1744432989808139, 27.255697794222773, 18.42787109104701, 27.82714519423285, 3.443535460389487, 0.04083243642873029, 5.114318164332667, 0.5697948754499333, 5.4282475197978695, 0.7721289215254623, -0.00001989578361620887, -0.034703497612920686, -0.08550784338556144, 0.006239176991931418, 0.001367593141535802, -4.808966670313369e-7, -0.2187505995413243, -1.8087191436710883, -0.9922884310554664, -0.014742349905146031, 0.003053794283557083, -11.874136737768657, -75.22296974556679, -33.96218955913907, -0.42061613449053764, 0.011561263304423593, -0.7922226379398286, -7.185598670736005, 0.7735213860631797, 0.1316131069607225, 0.0033284552078211094, 10.085406006964824, 56.37568206497135, 25.246189532623205, 0.3387536225030382, 0.000015865649566500348, 0.11028526291334259, 0.6117750781918082, 0.26063979972963747, 0.0029171257653189493]

.. figure:: GlobalRegistrationTwoImagesBSpline.png
  :scale: 70%

  Output Image

Code
----

C++
...

.. literalinclude:: Code.cxx
   :lines: 18-

Classes demonstrated
--------------------

.. breathelink:: itk::BSplineDeformableTransform
.. breathelink:: itk::ImageRegistrationMethod
